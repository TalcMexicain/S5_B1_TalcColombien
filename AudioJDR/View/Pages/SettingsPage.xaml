<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:View.Resources.Localization"
             x:Class="View.Pages.SettingsPage">

    <ContentPage.BackgroundColor>
        <AppThemeBinding Light="{StaticResource MainBackgroundL}" Dark="{StaticResource MainBackgroundD}" />
    </ContentPage.BackgroundColor>

    <ScrollView VerticalOptions="Center" HorizontalOptions="FillAndExpand">
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- Title -->
            <VerticalStackLayout Spacing="15">
                <Label x:Name="PageSettingsTitle"
                       Text="{x:Static local:AppResources.Settings}"
                       TextColor="{StaticResource MainText}"
                       FontSize="Large"
                       FontFamily="UncialAntiquaRegular"
                       HorizontalOptions="Center">
                </Label>

                <!-- Theme Toggle Button -->
                <Button x:Name="ThemeToggleButton"
                        Text="{x:Static local:AppResources.ToggleTheme}"
                        TextColor="{StaticResource TextButtons}"
                        Clicked="OnThemeButtonClicked"
                        HorizontalOptions="Center"
                        Padding="20,10"
                        FontSize="Medium">
                    <Button.BackgroundColor>
                        <AppThemeBinding Light="{StaticResource PrimaryButtonsL}" Dark="{StaticResource PrimaryButtonsD}" />
                    </Button.BackgroundColor>
                </Button>

                <!-- Language Picker -->
                <Picker x:Name="LanguagePicker"
                        Title="{x:Static local:AppResources.SelectLanguage}"
                        TitleColor="{StaticResource MainText}"
                        TextColor="{StaticResource TextButtons}"
                        SelectedIndexChanged="OnLanguageChanged"
                        HorizontalOptions="Center"
                        MaximumHeightRequest="100"
                        FontSize="Medium">
                    <Picker.BackgroundColor>
                        <AppThemeBinding Light="{StaticResource PrimaryButtonsL}" Dark="{StaticResource PrimaryButtonsD}" />
                    </Picker.BackgroundColor>
                </Picker>
            </VerticalStackLayout>

            <!-- Separator -->
            <BoxView HeightRequest="1" WidthRequest="500" HorizontalOptions="Center"/>

            <!-- Speech Synthesis Settings -->
            <VerticalStackLayout Spacing="15">
                <Label x:Name="SynthesisTitleLabel"
                       Text="{x:Static local:AppResources.SynthesisSettingsLabel}"
                       TextColor="{StaticResource MainText}"
                       FontSize="Large"
                       FontFamily="UncialAntiquaRegular"
                       HorizontalOptions="Center"/>

                <!-- Voice Type Picker -->
                <Picker x:Name="VoiceTypeTTSPicker"
                        Title="{x:Static local:AppResources.VoiceType}"
                        TitleColor="{StaticResource MainText}"
                        TextColor="{StaticResource TextButtons}"
                        SelectedIndexChanged="OnVoiceTypeChanged"
                        HorizontalOptions="Center"
                        MaximumHeightRequest="110"
                        FontSize="Medium">
                    <Picker.BackgroundColor>
                        <AppThemeBinding Light="{StaticResource PrimaryButtonsL}" Dark="{StaticResource PrimaryButtonsD}" />
                    </Picker.BackgroundColor>
                </Picker>

                <!-- Voice Volume -->
                <VerticalStackLayout Spacing="10">
                    <Label x:Name="VoiceVolumeLabel"
                           Text="{x:Static local:AppResources.VoiceVolume}"
                           TextColor="{StaticResource MainText}"
                           FontSize="Medium"
                           HorizontalOptions="Center"/>

                    <Label x:Name="VolumeValueLabel"
                            FontSize="Medium"
                            HorizontalOptions="Center"
                            TextColor="{StaticResource MainText}"/>

                    <Slider x:Name="VolumeSlider"
                            Minimum="0"
                            Maximum="100"
                            WidthRequest="400"
                            ValueChanged="OnVolumeChanged"/>
                </VerticalStackLayout>

                <!-- Voice Speed -->
                <VerticalStackLayout Spacing="10">
                    <Label x:Name="VoiceRateLabel"
                           Text="{x:Static local:AppResources.VoiceSpeed}"
                           TextColor="{StaticResource MainText}"
                           FontSize="Medium"
                           HorizontalOptions="Center"/>

                    <Label x:Name="RateValueLabel"
                            FontSize="Medium"
                            HorizontalOptions="Center"
                            TextColor="{StaticResource MainText}"/>

                    <Slider x:Name="RateSlider"
                            Minimum="0.5"
                            Maximum="2.0"
                            Value="1.0"
                            WidthRequest="400"
                            ValueChanged="OnRateChanged"/>
                </VerticalStackLayout>
            </VerticalStackLayout>

            <!-- Test Voice Button -->
            <Button x:Name="TestVoiceButton"
                    Text="{x:Static local:AppResources.TestVoice}"
                    TextColor="{StaticResource TextButtons}"
                    Clicked="OnTestVoiceButtonClicked"
                    HorizontalOptions="Center"
                    Padding="20,10"
                    FontSize="Medium">
                <Button.BackgroundColor>
                    <AppThemeBinding Light="{StaticResource PrimaryButtonsL}" Dark="{StaticResource PrimaryButtonsD}" />
                </Button.BackgroundColor>
            </Button>


            <!-- Back Button -->
            <Button x:Name="BackButton"
                    Text="{x:Static local:AppResources.Back}"
                    TextColor="{StaticResource TextButtons}"
                    Clicked="OnBackButtonClicked"
                    HorizontalOptions="Center"
                    Padding="20,10"
                    FontSize="Medium">
                <Button.BackgroundColor>
                    <AppThemeBinding Light="{StaticResource SecondaryButtonsL}" Dark="{StaticResource SecondaryButtonsD}" />
                </Button.BackgroundColor>
            </Button>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
